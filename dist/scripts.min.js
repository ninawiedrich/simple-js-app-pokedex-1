let pokemonRepository=function(){let e=[];function t(){let e=document.createElement("p");e.textContent="Loading...",e.id="loading-message",e.setAttribute("style",`
        position: fixed;
        top: 50%;
        left: 50%;
        background-color: black;
        color: white;
        padding: 20px;
        font-size: 3em;
    `),document.body.appendChild(e)}function n(){let e=document.querySelector("#loading-message");e&&document.body.removeChild(e)}function o(t){return!!("object"==typeof t&&["name","detailsUrl"].every(e=>e in t))&&(e.push(t),!0)}function i(){return e}function r(e){return t(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){n(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){n(),console.error(e)})}function l(e){r(e).then(function(){var t;let n;t=e,document.querySelector(".modal-title").innerText=t.name,document.querySelector(".pokemon-height").innerText="Height: "+t.height/10+"m",n=t.types.map(e=>e.type.name).join(", "),document.querySelector(".pokemon-type").innerText="Type: "+n,document.querySelector(".pokemon-image").src=t.imageUrl})}return{getAll:i,add:o,findByName:function t(n){return e.filter(e=>e.name.toLowerCase()===n.toLowerCase())},addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li");o.classList.add("list-item");let i=document.createElement("button");i.innerText=t.name,i.classList.add("button-pokemon-list"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#exampleModal"),function e(t,n){t.addEventListener("click",function(){l(n)})}(i,t),o.appendChild(i),n.appendChild(o)},loadList:function e(){return t(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){n(),e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){n(),console.error(e)})},loadDetails:r,showDetails:l,showLoadingMessage:t,hideLoadingMessage:n}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});let searchInput=document.querySelector(".form-control");searchInput.addEventListener("input",function(){let e=searchInput.value.toLowerCase(),t=pokemonRepository.getAll().filter(function(t){return t.name.toLowerCase().includes(e)});document.querySelector(".pokemon-list").innerHTML="",t.forEach(function(e){pokemonRepository.addListItem(e)})});